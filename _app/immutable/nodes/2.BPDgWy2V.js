import{f as Te,a as te,c as za,d as yt}from"../chunks/DNxYpnTl.js";import"../chunks/C_5r-b6M.js";import{o as Za}from"../chunks/CMoDYpUf.js";import{l as en,t as Bn,y as Et,n as _e,K as Gr,v as Kr,g as o,aq as Va,w as Ja,H as Qa,x as mr,z as Yt,o as Ft,W as ea,aj as Xa,a1 as dr,i as je,m as Hn,s as Ga,aB as Y,R as vr,ah as ta,aF as na,aG as ra,j as aa,p as Ka,aH as ia,aI as ei,aJ as yn,ad as In,aK as ti,aL as ni,ag as ri,k as ai,aM as oa,V as sa,aN as ii,aO as oi,aP as si,aQ as ua,al as la,a8 as ui,aR as li,aS as fi,aT as fa,aU as ci,aV as hi,aW as gi,aX as mi,aY as di,aD as vi,b as T,S as pi,B as xi,aZ as ee,a_ as _i,D as ce,F as yi,G as U,J as L,as as N,a2 as bi,a$ as Mi,I as $,b0 as pr,C as Vt,e as wi}from"../chunks/CDXDbFVo.js";import{e as Jt,s as oe}from"../chunks/BoRhiQup.js";import{B as Ti,i as et}from"../chunks/D5r49LMT.js";import{i as Ci}from"../chunks/Bch7Nnp4.js";import{b as $i}from"../chunks/DT1s0WPz.js";function St(e,t){return t}function ki(e,t,n){for(var r=[],i=t.length,a=0;a<i;a++)ti(t[a].e,r,!0);ni(r,()=>{var s=r.length===0&&n!==null;if(s){var u=n,f=u.parentNode;ri(f),f.append(u),e.items.clear(),Le(e,t[0].prev,t[i-1].next)}for(var l=0;l<i;l++){var g=t[l];s||(e.items.delete(g.k),Le(e,g.prev,g.next)),ai(g.e,!s)}e.first===t[0]&&(e.first=t[0].prev)})}function Xe(e,t,n,r,i,a=null){var s=e,u=new Map,f=null,l=(t&oa)!==0,g=(t&ia)!==0,c=(t&ra)!==0;if(l){var h=e;s=_e?Et(Gr(h)):h.appendChild(en())}_e&&Kr();var d=null,w=Va(()=>{var k=n();return na(k)?k:k==null?[]:ta(k)}),C,x=!0;function b(){Si(S,C,s,t,r),d!==null&&(C.length===0?(d.fragment?(s.before(d.fragment),d.fragment=null):aa(d.effect),X.first=d.effect):Ka(d.effect,()=>{d=null}))}var X=Bn(()=>{C=o(w);var k=C.length;let H=!1;if(_e){var _=Ja(s)===Qa;_!==(k===0)&&(s=mr(),Et(s),Yt(!1),H=!0)}for(var R=new Set,V=je,Ce=null,B=Ga(),y=0;y<k;y+=1){_e&&Ft.nodeType===ea&&Ft.data===Xa&&(s=Ft,H=!0,Yt(!1));var G=C[y],z=r(G,y),P=x?null:u.get(z);P?(g&&dr(P.v,G),c?dr(P.i,y):P.i=y,B&&V.skipped_effects.delete(P.e)):(P=Di(x?s:null,Ce,G,z,y,i,t,n),x&&(P.o=!0,Ce===null?f=P:Ce.next=P,Ce=P),u.set(z,P)),R.add(z)}if(k===0&&a&&!d)if(x)d={fragment:null,effect:Hn(()=>a(s))};else{var ae=document.createDocumentFragment(),ve=en();ae.append(ve),d={fragment:ae,effect:Hn(()=>a(ve))}}if(_e&&k>0&&Et(mr()),!x)if(B){for(const[pe,ye]of u)R.has(pe)||V.skipped_effects.add(ye.e);V.oncommit(b),V.ondiscard(()=>{})}else b();H&&Yt(!0),o(w)}),S={effect:X,items:u,first:f};x=!1,_e&&(s=Ft)}function Si(e,t,n,r,i){var B,y,G,z;var a=(r&ii)!==0,s=t.length,u=e.items,f=e.first,l,g=null,c,h=[],d=[],w,C,x,b;if(a)for(b=0;b<s;b+=1)w=t[b],C=i(w,b),x=u.get(C),(B=x.a)==null||B.measure(),(c??(c=new Set)).add(x);for(b=0;b<s;b+=1){if(w=t[b],C=i(w,b),x=u.get(C),e.first??(e.first=x),!x.o){x.o=!0;var X=g?g.next:f;Le(e,g,x),Le(e,x,X),bn(x,X,n),g=x,h=[],d=[],f=g.next;continue}if((x.e.f&yn)!==0&&(aa(x.e),a&&((y=x.a)==null||y.unfix(),(c??(c=new Set)).delete(x))),x!==f){if(l!==void 0&&l.has(x)){if(h.length<d.length){var S=d[0],k;g=S.prev;var H=h[0],_=h[h.length-1];for(k=0;k<h.length;k+=1)bn(h[k],S,n);for(k=0;k<d.length;k+=1)l.delete(d[k]);Le(e,H.prev,_.next),Le(e,g,H),Le(e,_,S),f=S,g=_,b-=1,h=[],d=[]}else l.delete(x),bn(x,f,n),Le(e,x.prev,x.next),Le(e,x,g===null?e.first:g.next),Le(e,g,x),g=x;continue}for(h=[],d=[];f!==null&&f.k!==C;)(f.e.f&yn)===0&&(l??(l=new Set)).add(f),d.push(f),f=f.next;if(f===null)continue;x=f}h.push(x),g=x,f=x.next}if(f!==null||l!==void 0){for(var R=l===void 0?[]:ta(l);f!==null;)(f.e.f&yn)===0&&R.push(f),f=f.next;var V=R.length;if(V>0){var Ce=(r&oa)!==0&&s===0?n:null;if(a){for(b=0;b<V;b+=1)(G=R[b].a)==null||G.measure();for(b=0;b<V;b+=1)(z=R[b].a)==null||z.fix()}ki(e,R,Ce)}}a&&sa(()=>{var P;if(c!==void 0)for(x of c)(P=x.a)==null||P.apply()})}function Di(e,t,n,r,i,a,s,u){var f=(s&ia)!==0,l=(s&ei)===0,g=f?l?Y(n,!1,!1):vr(n):n,c=(s&ra)===0?i:vr(i),h={i:c,v:g,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var d=document.createDocumentFragment();d.append(e=en())}return h.e=Hn(()=>a(e,g,c,u)),t!==null&&(t.next=h),h}finally{}}function bn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var s=In(a);i.before(a),a=s}}function Le(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n===null?e.effect.last=t&&t.e:(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function Ui(e,t,n){_e&&Kr();var r=new Ti(e),i=!oi();Bn(()=>{var a=t();i&&a!==null&&typeof a=="object"&&(a={}),r.ensure(a,n)})}function Ni(e,t){let n=null,r=_e;var i;if(_e){n=Ft;for(var a=Gr(document.head);a!==null&&(a.nodeType!==ea||a.data!==e);)a=In(a);if(a===null)Yt(!1);else{var s=In(a);a.remove(),Et(s)}}_e||(i=document.head.appendChild(en()));try{Bn(()=>t(i),si)}finally{r&&(Yt(!0),Et(n))}}function Ai(e,t){return e==null?null:String(e)}function xr(e,t,n,r){var i=e.__style;if(_e||i!==t){var a=Ai(t);(!_e||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return r}function ca(e,t,n=!1){if(e.multiple){if(t==null)return;if(!na(t))return li();for(var r of e.options)r.selected=t.includes(Ht(r));return}for(r of e.options){var i=Ht(r);if(fi(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Fi(e){var t=new MutationObserver(()=>{ca(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ui(()=>{t.disconnect()})}function _r(e,t,n=t){var r=new WeakSet,i=!0;ua(e,"change",a=>{var s=a?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(s),Ht);else{var f=e.querySelector(s)??e.querySelector("option:not([disabled])");u=f&&Ht(f)}n(u),je!==null&&r.add(je)}),la(()=>{var a=t();if(e===document.activeElement){var s=fa??je;if(r.has(s))return}if(ca(e,a,i),i&&a===void 0){var u=e.querySelector(":checked");u!==null&&(a=Ht(u),n(a))}e.__value=a,i=!1}),Fi(e)}function Ht(e){return"__value"in e?e.__value:e.value}const Ei=Symbol("is custom element"),Yi=Symbol("is html");function Hi(e){if(_e){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;j(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;j(e,"checked",null),e.checked=i}}};e.__on_r=n,sa(n),ci()}}function j(e,t,n,r){var i=Ii(e);_e&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[hi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Li(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ii(e){return e.__attributes??(e.__attributes={[Ei]:e.nodeName.includes("-"),[Yi]:e.namespaceURI===gi})}var yr=new Map;function Li(e){var t=e.getAttribute("is")||e.nodeName,n=yr.get(t);if(n)return n;yr.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=di(i);for(var s in r)r[s].set&&n.push(s);i=mi(i)}return n}function Ri(e,t,n=t){var r=new WeakSet;ua(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Mn(e)?wn(a):a,n(a),je!==null&&r.add(je),await vi(),a!==(a=t())){var s=e.selectionStart,u=e.selectionEnd,f=e.value.length;if(e.value=a??"",u!==null){var l=e.value.length;s===u&&u===f&&l>f?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=s,e.selectionEnd=Math.min(u,l))}}}),(_e&&e.defaultValue!==e.value||T(t)==null&&e.value)&&(n(Mn(e)?wn(e.value):e.value),je!==null&&r.add(je)),pi(()=>{var i=t();if(e===document.activeElement){var a=fa??je;if(r.has(a))return}Mn(e)&&i===wn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Mn(e){var t=e.type;return t==="number"||t==="range"}function wn(e){return e===""?null:+e}var br={},Tn={},Cn=34,Dt=10,$n=13;function ha(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Pi(e,t){var n=ha(e);return function(r,i){return t(n(r),i,e)}}function Mr(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Me(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Oi(e){return e<0?"-"+Me(-e,6):e>9999?"+"+Me(e,6):Me(e,4)}function Wi(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Oi(e.getUTCFullYear())+"-"+Me(e.getUTCMonth()+1,2)+"-"+Me(e.getUTCDate(),2)+(i?"T"+Me(t,2)+":"+Me(n,2)+":"+Me(r,2)+"."+Me(i,3)+"Z":r?"T"+Me(t,2)+":"+Me(n,2)+":"+Me(r,2)+"Z":n||t?"T"+Me(t,2)+":"+Me(n,2)+"Z":"")}function qi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(c,h){var d,w,C=i(c,function(x,b){if(d)return d(x,b-1);w=x,d=h?Pi(x,h):ha(x)});return C.columns=w||[],C}function i(c,h){var d=[],w=c.length,C=0,x=0,b,X=w<=0,S=!1;c.charCodeAt(w-1)===Dt&&--w,c.charCodeAt(w-1)===$n&&--w;function k(){if(X)return Tn;if(S)return S=!1,br;var _,R=C,V;if(c.charCodeAt(R)===Cn){for(;C++<w&&c.charCodeAt(C)!==Cn||c.charCodeAt(++C)===Cn;);return(_=C)>=w?X=!0:(V=c.charCodeAt(C++))===Dt?S=!0:V===$n&&(S=!0,c.charCodeAt(C)===Dt&&++C),c.slice(R+1,_-1).replace(/""/g,'"')}for(;C<w;){if((V=c.charCodeAt(_=C++))===Dt)S=!0;else if(V===$n)S=!0,c.charCodeAt(C)===Dt&&++C;else if(V!==n)continue;return c.slice(R,_)}return X=!0,c.slice(R,w)}for(;(b=k())!==Tn;){for(var H=[];b!==br&&b!==Tn;)H.push(b),b=k();h&&(H=h(H,x++))==null||d.push(H)}return d}function a(c,h){return c.map(function(d){return h.map(function(w){return g(d[w])}).join(e)})}function s(c,h){return h==null&&(h=Mr(c)),[h.map(g).join(e)].concat(a(c,h)).join(`
`)}function u(c,h){return h==null&&(h=Mr(c)),a(c,h).join(`
`)}function f(c){return c.map(l).join(`
`)}function l(c){return c.map(g).join(e)}function g(c){return c==null?"":c instanceof Date?Wi(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:s,formatBody:u,formatRows:f,formatRow:l,formatValue:g}}var ji=qi(","),Bi=ji.parse;function Kt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zn(e){let t,n,r;e.length!==2?(t=Kt,n=(u,f)=>Kt(e(u),f),r=(u,f)=>e(u)-f):(t=e===Kt||e===zi?e:Zi,n=e,r=e);function i(u,f,l=0,g=u.length){if(l<g){if(t(f,f)!==0)return g;do{const c=l+g>>>1;n(u[c],f)<0?l=c+1:g=c}while(l<g)}return l}function a(u,f,l=0,g=u.length){if(l<g){if(t(f,f)!==0)return g;do{const c=l+g>>>1;n(u[c],f)<=0?l=c+1:g=c}while(l<g)}return l}function s(u,f,l=0,g=u.length){const c=i(u,f,l,g-1);return c>l&&r(u[c-1],f)>-r(u[c],f)?c-1:c}return{left:i,center:s,right:a}}function Zi(){return 0}function Vi(e){return e===null?NaN:+e}const Ji=zn(Kt),Qi=Ji.right;zn(Vi).center;function kn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}const Xi=Math.sqrt(50),Gi=Math.sqrt(10),Ki=Math.sqrt(2);function tn(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Xi?10:a>=Gi?5:a>=Ki?2:1;let u,f,l;return i<0?(l=Math.pow(10,-i)/s,u=Math.round(e*l),f=Math.round(t*l),u/l<e&&++u,f/l>t&&--f,l=-l):(l=Math.pow(10,i)*s,u=Math.round(e/l),f=Math.round(t/l),u*l<e&&++u,f*l>t&&--f),f<u&&.5<=n&&n<2?tn(e,t,n*2):[u,f,l]}function eo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?tn(t,e,n):tn(e,t,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(s<0)for(let l=0;l<u;++l)f[l]=(a-l)/-s;else for(let l=0;l<u;++l)f[l]=(a-l)*s;else if(s<0)for(let l=0;l<u;++l)f[l]=(i+l)/-s;else for(let l=0;l<u;++l)f[l]=(i+l)*s;return f}function Ln(e,t,n){return t=+t,e=+e,n=+n,tn(e,t,n)[2]}function Rn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ln(t,e,n):Ln(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function to(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function no(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ma(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pt(){}var It=.7,nn=1/It,vt="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ro=/^#([0-9a-f]{3,8})$/,ao=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),io=new RegExp(`^rgb\\(${Re},${Re},${Re}\\)$`),oo=new RegExp(`^rgba\\(${vt},${vt},${vt},${Lt}\\)$`),so=new RegExp(`^rgba\\(${Re},${Re},${Re},${Lt}\\)$`),uo=new RegExp(`^hsl\\(${Lt},${Re},${Re}\\)$`),lo=new RegExp(`^hsla\\(${Lt},${Re},${Re},${Lt}\\)$`),wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zn(Pt,Rt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tr,formatHex:Tr,formatHex8:fo,formatHsl:co,formatRgb:Cr,toString:Cr});function Tr(){return this.rgb().formatHex()}function fo(){return this.rgb().formatHex8()}function co(){return da(this).formatHsl()}function Cr(){return this.rgb().formatRgb()}function Rt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ro.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$r(t):n===3?new we(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Qt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Qt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ao.exec(e))?new we(t[1],t[2],t[3],1):(t=io.exec(e))?new we(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oo.exec(e))?Qt(t[1],t[2],t[3],t[4]):(t=so.exec(e))?Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uo.exec(e))?Dr(t[1],t[2]/100,t[3]/100,1):(t=lo.exec(e))?Dr(t[1],t[2]/100,t[3]/100,t[4]):wr.hasOwnProperty(e)?$r(wr[e]):e==="transparent"?new we(NaN,NaN,NaN,0):null}function $r(e){return new we(e>>16&255,e>>8&255,e&255,1)}function Qt(e,t,n,r){return r<=0&&(e=t=n=NaN),new we(e,t,n,r)}function ho(e){return e instanceof Pt||(e=Rt(e)),e?(e=e.rgb(),new we(e.r,e.g,e.b,e.opacity)):new we}function Pn(e,t,n,r){return arguments.length===1?ho(e):new we(e,t,n,r??1)}function we(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Zn(we,Pn,ma(Pt,{brighter(e){return e=e==null?nn:Math.pow(nn,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?It:Math.pow(It,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new we(at(this.r),at(this.g),at(this.b),rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kr,formatHex:kr,formatHex8:go,formatRgb:Sr,toString:Sr}));function kr(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}`}function go(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}${rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sr(){const e=rn(this.opacity);return`${e===1?"rgb(":"rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${e===1?")":`, ${e})`}`}function rn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function at(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rt(e){return e=at(e),(e<16?"0":"")+e.toString(16)}function Dr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new He(e,t,n,r)}function da(e){if(e instanceof He)return new He(e.h,e.s,e.l,e.opacity);if(e instanceof Pt||(e=Rt(e)),!e)return new He;if(e instanceof He)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-i,f=(a+i)/2;return u?(t===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-t)/u+2:s=(t-n)/u+4,u/=f<.5?a+i:2-a-i,s*=60):u=f>0&&f<1?0:s,new He(s,u,f,e.opacity)}function mo(e,t,n,r){return arguments.length===1?da(e):new He(e,t,n,r??1)}function He(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Zn(He,mo,ma(Pt,{brighter(e){return e=e==null?nn:Math.pow(nn,e),new He(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?It:Math.pow(It,e),new He(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new we(Sn(e>=240?e-240:e+120,i,r),Sn(e,i,r),Sn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new He(Ur(this.h),Xt(this.s),Xt(this.l),rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ur(this.h)}, ${Xt(this.s)*100}%, ${Xt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ur(e){return e=(e||0)%360,e<0?e+360:e}function Xt(e){return Math.max(0,Math.min(1,e||0))}function Sn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vn=e=>()=>e;function vo(e,t){return function(n){return e+n*t}}function po(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xo(e){return(e=+e)==1?va:function(t,n){return n-t?po(t,n,e):Vn(isNaN(t)?n:t)}}function va(e,t){var n=t-e;return n?vo(e,n):Vn(isNaN(e)?t:e)}const Nr=(function e(t){var n=xo(t);function r(i,a){var s=n((i=Pn(i)).r,(a=Pn(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),l=va(i.opacity,a.opacity);return function(g){return i.r=s(g),i.g=u(g),i.b=f(g),i.opacity=l(g),i+""}}return r.gamma=e,r})(1);function _o(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function yo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Jn(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function Mo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wo(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Jn(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dn=new RegExp(On.source,"g");function To(e){return function(){return e}}function Co(e){return function(t){return e(t)+""}}function $o(e,t){var n=On.lastIndex=Dn.lastIndex=0,r,i,a,s=-1,u=[],f=[];for(e=e+"",t=t+"";(r=On.exec(e))&&(i=Dn.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,f.push({i:s,x:an(r,i)})),n=Dn.lastIndex;return n<t.length&&(a=t.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?f[0]?Co(f[0].x):To(t):(t=f.length,function(l){for(var g=0,c;g<t;++g)u[(c=f[g]).i]=c.x(l);return u.join("")})}function Jn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vn(t):(n==="number"?an:n==="string"?(r=Rt(t))?(t=r,Nr):$o:t instanceof Rt?Nr:t instanceof Date?Mo:yo(t)?_o:Array.isArray(t)?bo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wo:an)(e,t)}function ko(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function So(e){return function(){return e}}function Do(e){return+e}var Ar=[0,1];function mt(e){return e}function Wn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:So(isNaN(t)?NaN:.5)}function Uo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function No(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Wn(i,r),a=n(s,a)):(r=Wn(r,i),a=n(a,s)),function(u){return a(r(u))}}function Ao(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Wn(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(u){var f=Qi(e,u,1,r)-1;return a[f](i[f](u))}}function pa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fo(){var e=Ar,t=Ar,n=Jn,r,i,a,s=mt,u,f,l;function g(){var h=Math.min(e.length,t.length);return s!==mt&&(s=Uo(e[0],e[h-1])),u=h>2?Ao:No,f=l=null,c}function c(h){return h==null||isNaN(h=+h)?a:(f||(f=u(e.map(r),t,n)))(r(s(h)))}return c.invert=function(h){return s(i((l||(l=u(t,e.map(r),an)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,Do),g()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),g()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=ko,g()},c.clamp=function(h){return arguments.length?(s=h?!0:mt,g()):s!==mt},c.interpolate=function(h){return arguments.length?(n=h,g()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,g()}}function xa(){return Fo()(mt,mt)}function Eo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function on(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pt(e){return e=on(Math.abs(e)),e?e[1]:NaN}function Yo(e,t){return function(n,r){for(var i=n.length,a=[],s=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Ho(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Io=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sn(e){if(!(t=Io.exec(e)))throw new Error("invalid format: "+e);var t;return new Qn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sn.prototype=Qn.prototype;function Qn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var _a;function Ro(e,t){var n=on(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(_a=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+on(e,Math.max(0,t+a-1))[0]}function Fr(e,t){var n=on(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Er={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Eo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fr(e*100,t),r:Fr,s:Ro,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yr(e){return e}var Hr=Array.prototype.map,Ir=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Po(e){var t=e.grouping===void 0||e.thousands===void 0?Yr:Yo(Hr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Yr:Ho(Hr.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function l(c){c=sn(c);var h=c.fill,d=c.align,w=c.sign,C=c.symbol,x=c.zero,b=c.width,X=c.comma,S=c.precision,k=c.trim,H=c.type;H==="n"?(X=!0,H="g"):Er[H]||(S===void 0&&(S=12),k=!0,H="g"),(x||h==="0"&&d==="=")&&(x=!0,h="0",d="=");var _=C==="$"?n:C==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",R=C==="$"?r:/[%p]/.test(H)?s:"",V=Er[H],Ce=/[defgprs%]/.test(H);S=S===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(y){var G=_,z=R,P,ae,ve;if(H==="c")z=V(y)+z,y="";else{y=+y;var pe=y<0||1/y<0;if(y=isNaN(y)?f:V(Math.abs(y),S),k&&(y=Lo(y)),pe&&+y==0&&w!=="+"&&(pe=!1),G=(pe?w==="("?w:u:w==="-"||w==="("?"":w)+G,z=(H==="s"?Ir[8+_a/3]:"")+z+(pe&&w==="("?")":""),Ce){for(P=-1,ae=y.length;++P<ae;)if(ve=y.charCodeAt(P),48>ve||ve>57){z=(ve===46?i+y.slice(P+1):y.slice(P))+z,y=y.slice(0,P);break}}}X&&!x&&(y=t(y,1/0));var ye=G.length+y.length+z.length,ie=ye<b?new Array(b-ye+1).join(h):"";switch(X&&x&&(y=t(ie+y,ie.length?b-z.length:1/0),ie=""),d){case"<":y=G+y+z+ie;break;case"=":y=G+ie+y+z;break;case"^":y=ie.slice(0,ye=ie.length>>1)+G+y+z+ie.slice(ye);break;default:y=ie+G+y+z;break}return a(y)}return B.toString=function(){return c+""},B}function g(c,h){var d=l((c=sn(c),c.type="f",c)),w=Math.max(-8,Math.min(8,Math.floor(pt(h)/3)))*3,C=Math.pow(10,-w),x=Ir[8+w/3];return function(b){return d(C*b)+x}}return{format:l,formatPrefix:g}}var Gt,Xn,ya;Oo({thousands:",",grouping:[3],currency:["$",""]});function Oo(e){return Gt=Po(e),Xn=Gt.format,ya=Gt.formatPrefix,Gt}function Wo(e){return Math.max(0,-pt(Math.abs(e)))}function qo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pt(t)/3)))*3-pt(Math.abs(e)))}function jo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pt(t)-pt(e))+1}function Bo(e,t,n,r){var i=Rn(e,t,n),a;switch(r=sn(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=qo(i,s))&&(r.precision=a),ya(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=jo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Wo(i))&&(r.precision=a-(r.type==="%")*2);break}}return Xn(r)}function zo(e){var t=e.domain;return e.ticks=function(n){var r=t();return eo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Bo(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],u=r[a],f,l,g=10;for(u<s&&(l=s,s=u,u=l,l=i,i=a,a=l);g-- >0;){if(l=Ln(s,u,n),l===f)return r[i]=s,r[a]=u,t(r);if(l>0)s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l;else if(l<0)s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l;else break;f=l}return e},e}function ba(){var e=xa();return e.copy=function(){return pa(e,ba())},ga.apply(e,arguments),zo(e)}function Zo(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}const Un=new Date,Nn=new Date;function se(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return f;let l;do f.push(l=new Date(+a)),t(a,u),e(a);while(l<a&&a<s);return f},i.filter=a=>se(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!a(s););else for(;--u>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Un.setTime(+a),Nn.setTime(+s),e(Un),e(Nn),Math.floor(n(Un,Nn))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const un=se(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);un.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?se(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):un);un.range;const Be=1e3,Ue=Be*60,ze=Ue*60,Ze=ze*24,Gn=Ze*7,Lr=Ze*30,An=Ze*365,dt=se(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Be)},(e,t)=>(t-e)/Be,e=>e.getUTCSeconds());dt.range;const Kn=se(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be)},(e,t)=>{e.setTime(+e+t*Ue)},(e,t)=>(t-e)/Ue,e=>e.getMinutes());Kn.range;const Vo=se(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ue)},(e,t)=>(t-e)/Ue,e=>e.getUTCMinutes());Vo.range;const er=se(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be-e.getMinutes()*Ue)},(e,t)=>{e.setTime(+e+t*ze)},(e,t)=>(t-e)/ze,e=>e.getHours());er.range;const Jo=se(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ze)},(e,t)=>(t-e)/ze,e=>e.getUTCHours());Jo.range;const Ot=se(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ue)/Ze,e=>e.getDate()-1);Ot.range;const tr=se(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ze,e=>e.getUTCDate()-1);tr.range;const Qo=se(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ze,e=>Math.floor(e/Ze));Qo.range;function ot(e){return se(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ue)/Gn)}const hn=ot(0),ln=ot(1),Xo=ot(2),Go=ot(3),xt=ot(4),Ko=ot(5),es=ot(6);hn.range;ln.range;Xo.range;Go.range;xt.range;Ko.range;es.range;function st(e){return se(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Gn)}const Ma=st(0),fn=st(1),ts=st(2),ns=st(3),_t=st(4),rs=st(5),as=st(6);Ma.range;fn.range;ts.range;ns.range;_t.range;rs.range;as.range;const nr=se(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nr.range;const is=se(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());is.range;const Ve=se(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ve.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:se(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ve.range;const it=se(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());it.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:se(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});it.range;function os(e,t,n,r,i,a){const s=[[dt,1,Be],[dt,5,5*Be],[dt,15,15*Be],[dt,30,30*Be],[a,1,Ue],[a,5,5*Ue],[a,15,15*Ue],[a,30,30*Ue],[i,1,ze],[i,3,3*ze],[i,6,6*ze],[i,12,12*ze],[r,1,Ze],[r,2,2*Ze],[n,1,Gn],[t,1,Lr],[t,3,3*Lr],[e,1,An]];function u(l,g,c){const h=g<l;h&&([l,g]=[g,l]);const d=c&&typeof c.range=="function"?c:f(l,g,c),w=d?d.range(l,+g+1):[];return h?w.reverse():w}function f(l,g,c){const h=Math.abs(g-l)/c,d=zn(([,,x])=>x).right(s,h);if(d===s.length)return e.every(Rn(l/An,g/An,c));if(d===0)return un.every(Math.max(Rn(l,g,c),1));const[w,C]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return w.every(C)}return[u,f]}const[ss,us]=os(Ve,nr,hn,Ot,er,Kn);function Fn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function En(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ut(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ls(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,u=e.months,f=e.shortMonths,l=Nt(i),g=At(i),c=Nt(a),h=At(a),d=Nt(s),w=At(s),C=Nt(u),x=At(u),b=Nt(f),X=At(f),S={a:pe,A:ye,b:ie,B:ke,c:null,d:jr,e:jr,f:As,g:Ws,G:js,H:Ds,I:Us,j:Ns,L:wa,m:Fs,M:Es,p:fe,q:ut,Q:Zr,s:Vr,S:Ys,u:Hs,U:Is,V:Ls,w:Rs,W:Ps,x:null,X:null,y:Os,Y:qs,Z:Bs,"%":zr},k={a:bt,A:Wt,b:lt,B:Ge,c:null,d:Br,e:Br,f:Js,g:iu,G:su,H:zs,I:Zs,j:Vs,L:Ca,m:Qs,M:Xs,p:he,q:qt,Q:Zr,s:Vr,S:Gs,u:Ks,U:eu,V:tu,w:nu,W:ru,x:null,X:null,y:au,Y:ou,Z:uu,"%":zr},H={a:B,A:y,b:G,B:z,c:P,d:Wr,e:Wr,f:Cs,g:Or,G:Pr,H:qr,I:qr,j:bs,L:Ts,m:ys,M:Ms,p:Ce,q:_s,Q:ks,s:Ss,S:ws,u:ms,U:ds,V:vs,w:gs,W:ps,x:ae,X:ve,y:Or,Y:Pr,Z:xs,"%":$s};S.x=_(n,S),S.X=_(r,S),S.c=_(t,S),k.x=_(n,k),k.X=_(r,k),k.c=_(t,k);function _(v,A){return function(I){var m=[],ge=-1,Z=0,ne=v.length,me,Pe,ft;for(I instanceof Date||(I=new Date(+I));++ge<ne;)v.charCodeAt(ge)===37&&(m.push(v.slice(Z,ge)),(Pe=Rr[me=v.charAt(++ge)])!=null?me=v.charAt(++ge):Pe=me==="e"?" ":"0",(ft=A[me])&&(me=ft(I,Pe)),m.push(me),Z=ge+1);return m.push(v.slice(Z,ge)),m.join("")}}function R(v,A){return function(I){var m=Ut(1900,void 0,1),ge=V(m,v,I+="",0),Z,ne;if(ge!=I.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(A&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(Z=En(Ut(m.y,0,1)),ne=Z.getUTCDay(),Z=ne>4||ne===0?fn.ceil(Z):fn(Z),Z=tr.offset(Z,(m.V-1)*7),m.y=Z.getUTCFullYear(),m.m=Z.getUTCMonth(),m.d=Z.getUTCDate()+(m.w+6)%7):(Z=Fn(Ut(m.y,0,1)),ne=Z.getDay(),Z=ne>4||ne===0?ln.ceil(Z):ln(Z),Z=Ot.offset(Z,(m.V-1)*7),m.y=Z.getFullYear(),m.m=Z.getMonth(),m.d=Z.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),ne="Z"in m?En(Ut(m.y,0,1)).getUTCDay():Fn(Ut(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(ne+5)%7:m.w+m.U*7-(ne+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,En(m)):Fn(m)}}function V(v,A,I,m){for(var ge=0,Z=A.length,ne=I.length,me,Pe;ge<Z;){if(m>=ne)return-1;if(me=A.charCodeAt(ge++),me===37){if(me=A.charAt(ge++),Pe=H[me in Rr?A.charAt(ge++):me],!Pe||(m=Pe(v,I,m))<0)return-1}else if(me!=I.charCodeAt(m++))return-1}return m}function Ce(v,A,I){var m=l.exec(A.slice(I));return m?(v.p=g.get(m[0].toLowerCase()),I+m[0].length):-1}function B(v,A,I){var m=d.exec(A.slice(I));return m?(v.w=w.get(m[0].toLowerCase()),I+m[0].length):-1}function y(v,A,I){var m=c.exec(A.slice(I));return m?(v.w=h.get(m[0].toLowerCase()),I+m[0].length):-1}function G(v,A,I){var m=b.exec(A.slice(I));return m?(v.m=X.get(m[0].toLowerCase()),I+m[0].length):-1}function z(v,A,I){var m=C.exec(A.slice(I));return m?(v.m=x.get(m[0].toLowerCase()),I+m[0].length):-1}function P(v,A,I){return V(v,t,A,I)}function ae(v,A,I){return V(v,n,A,I)}function ve(v,A,I){return V(v,r,A,I)}function pe(v){return s[v.getDay()]}function ye(v){return a[v.getDay()]}function ie(v){return f[v.getMonth()]}function ke(v){return u[v.getMonth()]}function fe(v){return i[+(v.getHours()>=12)]}function ut(v){return 1+~~(v.getMonth()/3)}function bt(v){return s[v.getUTCDay()]}function Wt(v){return a[v.getUTCDay()]}function lt(v){return f[v.getUTCMonth()]}function Ge(v){return u[v.getUTCMonth()]}function he(v){return i[+(v.getUTCHours()>=12)]}function qt(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var A=_(v+="",S);return A.toString=function(){return v},A},parse:function(v){var A=R(v+="",!1);return A.toString=function(){return v},A},utcFormat:function(v){var A=_(v+="",k);return A.toString=function(){return v},A},utcParse:function(v){var A=R(v+="",!0);return A.toString=function(){return v},A}}}var Rr={"-":"",_:" ",0:"0"},le=/^\s*\d+/,fs=/^%/,cs=/[\\^$*+?|[\]().{}]/g;function O(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function hs(e){return e.replace(cs,"\\$&")}function Nt(e){return new RegExp("^(?:"+e.map(hs).join("|")+")","i")}function At(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function gs(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ms(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ds(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vs(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ps(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Pr(e,t,n){var r=le.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Or(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xs(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _s(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ys(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Wr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function bs(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ms(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ws(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ts(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Cs(e,t,n){var r=le.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $s(e,t,n){var r=fs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ks(e,t,n){var r=le.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ss(e,t,n){var r=le.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function jr(e,t){return O(e.getDate(),t,2)}function Ds(e,t){return O(e.getHours(),t,2)}function Us(e,t){return O(e.getHours()%12||12,t,2)}function Ns(e,t){return O(1+Ot.count(Ve(e),e),t,3)}function wa(e,t){return O(e.getMilliseconds(),t,3)}function As(e,t){return wa(e,t)+"000"}function Fs(e,t){return O(e.getMonth()+1,t,2)}function Es(e,t){return O(e.getMinutes(),t,2)}function Ys(e,t){return O(e.getSeconds(),t,2)}function Hs(e){var t=e.getDay();return t===0?7:t}function Is(e,t){return O(hn.count(Ve(e)-1,e),t,2)}function Ta(e){var t=e.getDay();return t>=4||t===0?xt(e):xt.ceil(e)}function Ls(e,t){return e=Ta(e),O(xt.count(Ve(e),e)+(Ve(e).getDay()===4),t,2)}function Rs(e){return e.getDay()}function Ps(e,t){return O(ln.count(Ve(e)-1,e),t,2)}function Os(e,t){return O(e.getFullYear()%100,t,2)}function Ws(e,t){return e=Ta(e),O(e.getFullYear()%100,t,2)}function qs(e,t){return O(e.getFullYear()%1e4,t,4)}function js(e,t){var n=e.getDay();return e=n>=4||n===0?xt(e):xt.ceil(e),O(e.getFullYear()%1e4,t,4)}function Bs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+O(t/60|0,"0",2)+O(t%60,"0",2)}function Br(e,t){return O(e.getUTCDate(),t,2)}function zs(e,t){return O(e.getUTCHours(),t,2)}function Zs(e,t){return O(e.getUTCHours()%12||12,t,2)}function Vs(e,t){return O(1+tr.count(it(e),e),t,3)}function Ca(e,t){return O(e.getUTCMilliseconds(),t,3)}function Js(e,t){return Ca(e,t)+"000"}function Qs(e,t){return O(e.getUTCMonth()+1,t,2)}function Xs(e,t){return O(e.getUTCMinutes(),t,2)}function Gs(e,t){return O(e.getUTCSeconds(),t,2)}function Ks(e){var t=e.getUTCDay();return t===0?7:t}function eu(e,t){return O(Ma.count(it(e)-1,e),t,2)}function $a(e){var t=e.getUTCDay();return t>=4||t===0?_t(e):_t.ceil(e)}function tu(e,t){return e=$a(e),O(_t.count(it(e),e)+(it(e).getUTCDay()===4),t,2)}function nu(e){return e.getUTCDay()}function ru(e,t){return O(fn.count(it(e)-1,e),t,2)}function au(e,t){return O(e.getUTCFullYear()%100,t,2)}function iu(e,t){return e=$a(e),O(e.getUTCFullYear()%100,t,2)}function ou(e,t){return O(e.getUTCFullYear()%1e4,t,4)}function su(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_t(e):_t.ceil(e),O(e.getUTCFullYear()%1e4,t,4)}function uu(){return"+0000"}function zr(){return"%"}function Zr(e){return+e}function Vr(e){return Math.floor(+e/1e3)}var ht,nt;lu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lu(e){return ht=ls(e),nt=ht.format,ht.parse,ht.utcFormat,ht.utcParse,ht}function fu(e){return new Date(e)}function cu(e){return e instanceof Date?+e:+new Date(+e)}function ka(e,t,n,r,i,a,s,u,f,l){var g=xa(),c=g.invert,h=g.domain,d=l(".%L"),w=l(":%S"),C=l("%I:%M"),x=l("%I %p"),b=l("%a %d"),X=l("%b %d"),S=l("%B"),k=l("%Y");function H(_){return(f(_)<_?d:u(_)<_?w:s(_)<_?C:a(_)<_?x:r(_)<_?i(_)<_?b:X:n(_)<_?S:k)(_)}return g.invert=function(_){return new Date(c(_))},g.domain=function(_){return arguments.length?h(Array.from(_,cu)):h().map(fu)},g.ticks=function(_){var R=h();return e(R[0],R[R.length-1],_??10)},g.tickFormat=function(_,R){return R==null?H:l(R)},g.nice=function(_){var R=h();return(!_||typeof _.range!="function")&&(_=t(R[0],R[R.length-1],_??10)),_?h(Zo(R,_)):g},g.copy=function(){return pa(g,ka(e,t,n,r,i,a,s,u,f,l))},g}function hu(){return ga.apply(ka(ss,us,Ve,nr,hn,Ot,er,Kn,dt,nt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gt(e){return function(){return e}}const qn=Math.PI,jn=2*qn,tt=1e-6,gu=jn-tt;function Sa(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function mu(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sa;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class du{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sa:mu(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,f=r-t,l=i-n,g=s-t,c=u-n,h=g*g+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>tt)if(!(Math.abs(c*f-l*g)>tt)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,w=i-u,C=f*f+l*l,x=d*d+w*w,b=Math.sqrt(C),X=Math.sqrt(h),S=a*Math.tan((qn-Math.acos((C+h-x)/(2*b*X)))/2),k=S/X,H=S/b;Math.abs(k-1)>tt&&this._append`L${t+k*g},${n+k*c}`,this._append`A${a},${a},0,0,${+(c*d>g*w)},${this._x1=t+H*f},${this._y1=n+H*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),l=t+u,g=n+f,c=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${g}`:(Math.abs(this._x1-l)>tt||Math.abs(this._y1-g)>tt)&&this._append`L${l},${g}`,r&&(h<0&&(h=h%jn+jn),h>gu?this._append`A${r},${r},0,1,${c},${t-u},${n-f}A${r},${r},0,1,${c},${this._x1=l},${this._y1=g}`:h>tt&&this._append`A${r},${r},0,${+(h>=qn)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vu(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new du(t)}function pu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Da(e){this._context=e}Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xu(e){return new Da(e)}function _u(e){return e[0]}function yu(e){return e[1]}function bu(e,t){var n=gt(!0),r=null,i=xu,a=null,s=vu(u);e=typeof e=="function"?e:e===void 0?_u:gt(e),t=typeof t=="function"?t:t===void 0?yu:gt(t);function u(f){var l,g=(f=pu(f)).length,c,h=!1,d;for(r==null&&(a=i(d=s())),l=0;l<=g;++l)!(l<g&&n(c=f[l],l,f))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,f),+t(c,l,f));if(d)return a=null,d+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:gt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:gt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:gt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function Jr(e){return e<0?-1:1}function Qr(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(Jr(a)+Jr(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function Xr(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yn(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,s-u*n,a,s)}function cn(e){this._context=e}cn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yn(this,this._t0,Xr(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yn(this,Xr(this,n=Qr(this,e,t)),n);break;default:Yn(this,this._t0,n=Qr(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(cn.prototype).point=function(e,t){cn.prototype.point.call(this,t,e)};function Mu(e){return new cn(e)}var wu=Te('<meta name="description" content="Explore UK consumer price index movements since 1988 with interactive visuals."/> <link rel="preconnect" href="https://fonts.googleapis.com"/> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>',1),Tu=Te("<option> </option>"),Cu=Te("<option></option>"),$u=Te("<option> </option>"),ku=Te("<section><p>Loading CPI data…</p></section>"),Su=Te('<section><p role="alert"> </p></section>'),Du=Te('<p class="narrative"> </p>'),Uu=Te("<p>Pick one or more CPI components to view the chart.</p>"),Nu=yt('<g><line y2="8" stroke="#cbd5e1"></line><text y="24" text-anchor="middle"> </text></g>'),Au=yt('<g><line stroke="#e2e8f0"></line><text text-anchor="end" alignment-baseline="middle"> </text></g>'),Fu=yt('<line stroke="#0f172a" stroke-dasharray="6 6" stroke-width="1.4"></line><text text-anchor="end" fill="#0f172a" font-weight="600"> </text>',1),Eu=yt("<circle></circle>"),Yu=yt('<path fill="none" stroke-width="2" stroke-linecap="round" opacity="0.92"></path><!>',1),Hu=yt('<svg role="img" aria-label="Price change chart"><g class="axis"><!><line stroke="#cbd5e1"></line><!></g><line stroke="#94a3b8" stroke-dasharray="4 6" stroke-width="1.2"></line><!><!></svg>'),Iu=Te('<div class="tooltip"><strong> </strong><br/> <br/> </div>'),Lu=Te("<!> <!>",1),Ru=Te('<div class="legend-item"><span class="legend-swatch"></span> <div><div> </div> <small> </small></div></div>'),Pu=Te('<div class="legend"></div>'),Ou=Te('<section><div class="summary-row"><div class="card"><h3>Data coverage</h3> <p> </p></div> <div class="card"><h3>Overall inflation</h3> <p> </p></div> <div class="card"><h3>Components shown</h3> <p> </p></div></div> <div class="chart-wrapper"><h2> </h2> <!> <!> <!></div></section>'),Wu=Te(`<main><header><h1>Explore price changes in the UK</h1> <p>Track how prices have shifted for consumer goods and services using the consumer price index (CPI).
      Pick a starting month and year, choose the components you care about, and hover the chart to see detailed
      movements.</p> <p>Data source: <a href="https://www.ons.gov.uk/economy/inflationandpriceindices" target="_blank" rel="noreferrer">Office for National Statistics</a></p></header> <section><div class="controls"><div class="control-card"><div class="label-row"><label for="from-month">Starting month</label> <strong> </strong></div> <div class="picker-row"><select id="from-month" class="month-select" aria-label="Pick a month to compare price changes"></select> <input id="from-year" class="year-input" type="number" list="year-options" aria-label="Pick a year (1988 or later) to compare price changes"/> <datalist id="year-options"></datalist></div> <p> </p></div> <div class="control-card"><div class="label-row"><label for="component-picker">CPI components</label> <span> </span></div> <select id="component-picker" class="multi-select" multiple size="10" aria-label="Select consumer price index components"></select> <div class="button-row"><button type="button">Select all</button> <button type="button" class="secondary">Reset to defaults</button></div></div></div></section> <!></main>`);function Xu(e,t){xi(t,!1);const n=Y(),r=Y(),i=Y(),a=Y(),s=Y(),u=Y(),f=Y(),l=Y(),g=Y(),c=Y(),h=Y(),d=Y(),w=Y(),C=Y(),x=Y(),b=Y(),X=Y(),S=Y(),k=Y(),H=Y(),_=Xn(".1%"),R=nt("%d %B %Y"),V=nt("%B %Y"),Ce=["Food","Clothing","Actual rents for housing","Financial services n.e.c.","Electricity, gas and other fuels","Insurance","Personal care","Transport services","Water supply and misc. services for the dwelling"],B={top:24,right:20,bottom:40,left:60},y=980,G=560;let z=Y([]),P=Y([]),ae=Y([]),ve=Y(2008),pe=Y("01"),ye=Y(new Date(2008,0,1)),ie=Y(o(ye)),ke=Y(null),fe=Y(null),ut=Y(1988),bt=Y(1988),Wt=Y([]),lt=Y(!0),Ge=Y(""),he=Y(null);const qt=(p,M,D)=>new Date(Math.min(Math.max(p.getTime(),M.getTime()),D.getTime())),v=(p,M)=>{const D=Number(M)||1;return new Date(p||1988,Math.min(Math.max(D,1),12)-1,1)},A=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}];Za(async()=>{try{const M=await(await fetch(`${$i}/data/cpi_components.csv`)).text(),D=Bi(M,E=>!E.Date||!E["CPI component"]||!E.pct_change?null:{year:Number(E.Year),date:new Date(String(E.Date)),component:String(E["CPI component"]),value:Number(E.pct_change)}).filter(Boolean);N(z,D.sort((E,q)=>E.date.getTime()-q.date.getTime()));const W=o(z).map(E=>E.date);if(N(ke,no(W)??null),N(fe,to(W)??null),o(ke)&&o(fe)){N(ut,o(ke).getFullYear()),N(bt,o(fe).getFullYear()),N(Wt,Array.from({length:o(bt)-o(ut)+1},(re,F)=>o(ut)+F));const E=new Date(2008,0,1),q=qt(E,o(ke),o(fe));N(ve,q.getFullYear()),N(pe,String(q.getMonth()+1).padStart(2,"0"))}N(P,Array.from(new Set(o(z).map(E=>E.component))).sort((E,q)=>E.localeCompare(q)));const K=Ce.filter(E=>o(P).includes(E));N(ae,K.length?K:o(P).slice(0,10))}catch(p){N(Ge,p instanceof Error?p.message:"Unable to load CPI data.")}finally{N(lt,!1)}});const I=(p,M,D)=>{var q,re;const W=((q=p.match(/\w\w/g))==null?void 0:q.map(F=>parseInt(F,16)))??[0,0,0],K=((re=M.match(/\w\w/g))==null?void 0:re.map(F=>parseInt(F,16)))??[0,0,0];return`rgb(${W.map((F,Q)=>Math.round(F+(K[Q]-F)*D)).join(",")})`},m=(p,M,D)=>{if(p>=0){const K=M>0?Math.min(p/M,1):.5;return I("ffe6e6","4d0000",K)}const W=D<0?Math.min(Math.abs(p)/Math.abs(D),1):.5;return I("cce0ff","001f4d",W)},ge=p=>{const M=new Map;p.forEach(F=>{var Q;M.has(F.component)||M.set(F.component,[]),(Q=M.get(F.component))==null||Q.push(F)});const D=[];M.forEach((F,Q)=>{var zt,Tt;if(!F.length)return;const be=F.sort((Ke,xn)=>Ke.date.getTime()-xn.date.getTime()),Oe=((zt=be[0])==null?void 0:zt.value)??0,wt=be.map(Ke=>({...Ke,change:Oe!==0?(Ke.value-Oe)/Oe:0}));D.push({name:Q,points:wt,latest:((Tt=wt.at(-1))==null?void 0:Tt.change)??0})});const W=D.map(F=>F.latest).filter(F=>F>=0),K=D.map(F=>F.latest).filter(F=>F<0),E=W.length?Math.max(...W):0,q=K.length?Math.min(...K):0,re=new Map;return D.forEach(F=>{re.set(F.name,{...F,color:m(F.latest,E,q)})}),re},Z=(p,M,D)=>bu().x(W=>M(W.date)).y(W=>D(W.change)).curve(Mu)(p)??"",ne=p=>p===0?"flat":`${p>0?"up":"down"} ${_(Math.abs(p))}`,me=p=>{N(ae,p.filter(M=>o(P).includes(M)))},Pe=(p,M,D)=>{var re;const W=p.currentTarget,{x:K,y:E}=W.getBoundingClientRect(),q=(re=W.ownerSVGElement)==null?void 0:re.getBoundingClientRect();N(he,{component:M.component,date:M.date,change:M.change,color:D,x:K-((q==null?void 0:q.left)??0),y:E-((q==null?void 0:q.top)??0)})};ee(()=>(o(ve),o(pe)),()=>{N(ye,v(o(ve),o(pe)))}),ee(()=>(o(ke),o(fe),o(ye)),()=>{N(ie,o(ke)&&o(fe)?qt(o(ye),o(ke),o(fe)):o(ye))}),ee(()=>(o(z),o(ie)),()=>{N(n,o(z).filter(p=>p.date>=o(ie)))}),ee(()=>o(n),()=>{N(r,ge(o(n)))}),ee(()=>(o(ae),o(r)),()=>{N(i,o(ae).map(p=>o(r).get(p)).filter(Boolean))}),ee(()=>o(r),()=>{N(a,o(r).get("Cpi index 00: all items"))}),ee(()=>o(n),()=>{N(s,o(n).map(p=>p.date))}),ee(()=>(o(s),kn),()=>{N(u,o(s).length?kn(o(s)):[new Date,new Date])}),ee(()=>o(u),()=>{N(f,o(u).map(p=>p.getTime()).join("-"))}),ee(()=>o(i),()=>{N(l,o(i).flatMap(p=>p.points.map(M=>M.change)))}),ee(()=>(o(l),o(a)),()=>{var p;N(g,o(l).length?kn([...o(l),0,((p=o(a))==null?void 0:p.latest)??0]):[-.1,.1])}),ee(()=>o(u),()=>{N(c,hu(o(u),[B.left,y-B.right]))}),ee(()=>o(g),()=>{N(h,ba(o(g),[G-B.bottom,B.top]))}),ee(()=>o(c),()=>{N(d,o(c).ticks(6))}),ee(()=>o(h),()=>{N(w,o(h).ticks(6))}),ee(()=>o(ke),()=>{N(C,o(ke)?V(o(ke)):"")}),ee(()=>o(fe),()=>{N(x,o(fe)?V(o(fe)):"")}),ee(()=>o(ie),()=>{N(b,V(o(ie)))}),ee(()=>o(n),()=>{N(X,o(n).length?R(o(n)[0].date):"")}),ee(()=>o(n),()=>{N(S,o(n).length?R(o(n)[o(n).length-1].date):"")}),ee(()=>(o(fe),o(ie)),()=>{N(k,!!(o(fe)&&o(ie)>=new Date(o(fe).getFullYear()-3,o(fe).getMonth(),o(fe).getDate())))}),ee(()=>(o(lt),o(Ge),o(i),o(S),o(b),o(a)),()=>{N(H,(()=>{if(o(lt)||o(Ge)||!o(i).length)return"";const p=o(i).length,M=o(S)?`${o(b)} to ${o(S)}`:`since ${o(b)}`;if(p===1){const Q=o(i)[0],be=[];if(be.push(`${Q.name} is ${ne(Q.latest)} from ${M}.`),o(a)){const Oe=Q.latest===o(a).latest?"matching":Q.latest>o(a).latest?"with prices rising slower than":"running hotter than";be.push(`Overall inflation is ${ne(o(a).latest)} over the same span, ${Oe} this component.`)}return be.join(" ")}const D=o(i).filter(Q=>Q.latest>0),W=o(i).filter(Q=>Q.latest<0),K=p-D.length-W.length,E=[];E.push(`From ${M}, ${D.length} of ${p} selected components have become more expensive${W.length?`, with ${W.length} getting cheaper`:""}${K?`, ${K} flat`:""}.`);const q=[...o(i)].sort((Q,be)=>Math.abs(be.latest)-Math.abs(Q.latest))[0],re=D.sort((Q,be)=>be.latest-Q.latest)[0],F=W.sort((Q,be)=>Q.latest-be.latest)[0];return re&&F?E.push(`The cost of '${re.name}' has risen fastest (${ne(re.latest)}), while '${F.name}' is ${ne(F.latest)}.`):q&&E.push(`The cost of '${q.name}' has increased the most, ${ne(q.latest)}.`),o(a)&&E.push(`Overall inflation is ${ne(o(a).latest)} over the same span.`),E.join(" ")})())}),_i(),Ci();var ft=Wu();Ni("1uha8ag",p=>{var M=wu();bi(6),la(()=>{Mi.title="Price changes in the UK"}),te(p,M)});var gn=L(U(ft),2),rr=U(gn),mn=U(rr),dn=U(mn),ar=L(U(dn),2),Ua=U(ar,!0);$(ar),$(dn);var vn=L(dn,2),jt=U(vn);ce(()=>{o(pe),pr(()=>{})}),Xe(jt,5,()=>A,St,(p,M)=>{var D=Tu(),W=U(D,!0);$(D);var K={};ce(()=>{oe(W,(o(M),T(()=>o(M).label))),K!==(K=(o(M),T(()=>o(M).value)))&&(D.value=(D.__value=(o(M),T(()=>o(M).value)))??"")}),te(p,D)}),$(jt);var Mt=L(jt,2);Hi(Mt);var ir=L(Mt,2);Xe(ir,5,()=>o(Wt),St,(p,M)=>{var D=Cu(),W={};ce(()=>{W!==(W=o(M))&&(D.value=(D.__value=o(M))??"")}),te(p,D)}),$(ir),$(vn);var or=L(vn,2),Na=U(or);$(or),$(mn);var sr=L(mn,2),pn=U(sr),ur=L(U(pn),2),Aa=U(ur);$(ur),$(pn);var Bt=L(pn,2);ce(()=>{o(ae),pr(()=>{o(P)})}),Xe(Bt,5,()=>o(P),St,(p,M)=>{var D=$u(),W=U(D,!0);$(D);var K={};ce(()=>{oe(W,o(M)),K!==(K=o(M))&&(D.value=(D.__value=o(M))??"")}),te(p,D)}),$(Bt);var lr=L(Bt,2),fr=U(lr),Fa=L(fr,2);$(lr),$(sr),$(rr),$(gn);var Ea=L(gn,2);{var Ya=p=>{var M=ku();te(p,M)},Ha=p=>{var M=za(),D=Vt(M);{var W=E=>{var q=Su(),re=U(q),F=U(re,!0);$(re),$(q),ce(()=>oe(F,o(Ge))),te(E,q)},K=E=>{var q=Ou(),re=U(q),F=U(re),Q=L(U(F),2),be=U(Q);$(Q),$(F);var Oe=L(F,2),wt=L(U(Oe),2),zt=U(wt);$(wt),$(Oe);var Tt=L(Oe,2),Ke=L(U(Tt),2),xn=U(Ke);$(Ke),$(Tt),$(re);var cr=L(re,2),_n=U(cr),Ia=U(_n);$(_n);var hr=L(_n,2);{var La=de=>{var Se=Du(),Je=U(Se,!0);$(Se),ce(()=>oe(Je,o(H))),te(de,Se)};et(hr,de=>{o(H)&&de(La)})}var gr=L(hr,2);{var Ra=de=>{var Se=Uu();te(de,Se)},Pa=de=>{var Se=Lu(),Je=Vt(Se);Ui(Je,()=>o(f),Qe=>{var De=Hu();j(De,"viewBox",`0 0 ${y} ${G}`);var Ne=U(De),ct=U(Ne);Xe(ct,1,()=>o(d),St,($e,J)=>{var ue=Nu(),xe=L(U(ue)),qe=U(xe,!0);$(xe),$(ue),ce((Fe,Ee)=>{j(ue,"transform",Fe),oe(qe,Ee)},[()=>(o(c),o(J),T(()=>`translate(${o(c)(o(J))}, ${G-B.bottom})`)),()=>(o(k),wi(nt),o(J),T(()=>o(k)?nt("%b %Y")(o(J)):nt("%Y")(o(J))))]),te($e,ue)});var Ae=L(ct),$t=L(Ae);Xe($t,1,()=>o(w),St,($e,J)=>{var ue=Au(),xe=U(ue),qe=L(xe),Fe=U(qe,!0);$(qe),$(ue),ce((Ee,Ye)=>{j(ue,"transform",Ee),j(xe,"x1",T(()=>B.left-6)),j(xe,"x2",T(()=>y-B.right)),j(qe,"x",T(()=>B.left-10)),oe(Fe,Ye)},[()=>(o(h),o(J),T(()=>`translate(0, ${o(h)(o(J))})`)),()=>(o(J),T(()=>_(o(J))))]),te($e,ue)}),$(Ne);var We=L(Ne),Zt=L(We);{var qa=$e=>{var J=Fu(),ue=Vt(J),xe=L(ue),qe=U(xe);$(xe),ce((Fe,Ee,Ye,kt)=>{j(ue,"x1",T(()=>B.left)),j(ue,"x2",T(()=>y-B.right)),j(ue,"y1",Fe),j(ue,"y2",Ee),j(xe,"x",T(()=>y-B.right)),j(xe,"y",Ye),oe(qe,`Overall inflation ${kt??""}`)},[()=>(o(h),o(a),T(()=>o(h)(o(a).latest))),()=>(o(h),o(a),T(()=>o(h)(o(a).latest))),()=>(o(h),o(a),T(()=>o(h)(o(a).latest)-8)),()=>(o(a),T(()=>_(o(a).latest)))]),te($e,J)};et(Zt,$e=>{o(a)&&$e(qa)})}var ja=L(Zt);Xe(ja,1,()=>o(i),$e=>$e.name,($e,J)=>{var ue=Yu(),xe=Vt(ue),qe=L(xe);Xe(qe,1,()=>(o(J),T(()=>o(J).points)),Fe=>Fe.date.toISOString()+o(J).name,(Fe,Ee)=>{var Ye=Eu();j(Ye,"r",3.3),ce((kt,Ba)=>{j(Ye,"cx",kt),j(Ye,"cy",Ba),j(Ye,"fill",(o(J),T(()=>o(J).color)))},[()=>(o(c),o(Ee),T(()=>o(c)(o(Ee).date))),()=>(o(h),o(Ee),T(()=>o(h)(o(Ee).change)))]),Jt("mouseenter",Ye,kt=>Pe(kt,o(Ee),o(J).color)),Jt("mouseleave",Ye,()=>N(he,null)),te(Fe,Ye)}),ce(Fe=>{j(xe,"d",Fe),j(xe,"stroke",(o(J),T(()=>o(J).color)))},[()=>(o(J),o(c),o(h),T(()=>Z(o(J).points,o(c),o(h))))]),te($e,ue)}),$(De),ce(($e,J)=>{j(Ae,"x1",T(()=>B.left)),j(Ae,"x2",T(()=>y-B.right)),j(Ae,"y1",T(()=>G-B.bottom)),j(Ae,"y2",T(()=>G-B.bottom)),j(We,"x1",T(()=>B.left)),j(We,"x2",T(()=>y-B.right)),j(We,"y1",$e),j(We,"y2",J)},[()=>(o(h),T(()=>o(h)(0))),()=>(o(h),T(()=>o(h)(0)))]),te(Qe,De)});var Ie=L(Je,2);{var Ct=Qe=>{var De=Iu(),Ne=U(De),ct=U(Ne,!0);$(Ne);var Ae=L(Ne,2),$t=L(Ae,2);$(De),ce((We,Zt)=>{xr(De,(o(he),T(()=>`left:${o(he).x}px; top:${o(he).y}px;`))),oe(ct,(o(he),T(()=>o(he).component))),oe(Ae,` ${We??""}`),oe($t,` ${o(he),T(()=>o(he).change>=0?"Prices increased by ":"Prices fell by ")??""}${Zt??""}
              since ${o(b)??""}`)},[()=>(o(he),T(()=>R(o(he).date))),()=>(o(he),T(()=>_(Math.abs(o(he).change))))]),te(Qe,De)};et(Ie,Qe=>{o(he)&&Qe(Ct)})}te(de,Se)};et(gr,de=>{o(i),T(()=>!o(i).length)?de(Ra):de(Pa,!1)})}var Oa=L(gr,2);{var Wa=de=>{var Se=Pu();Xe(Se,5,()=>o(i),Je=>Je.name,(Je,Ie)=>{var Ct=Ru(),Qe=U(Ct),De=L(Qe,2),Ne=U(De),ct=U(Ne,!0);$(Ne);var Ae=L(Ne,2),$t=U(Ae);$(Ae),$(De),$(Ct),ce(We=>{xr(Qe,(o(Ie),T(()=>`background:${o(Ie).color}`))),oe(ct,(o(Ie),T(()=>o(Ie).name))),oe($t,`${o(Ie),T(()=>o(Ie).latest>=0?"Up":"Down")??""} ${We??""}`)},[()=>(o(Ie),T(()=>_(Math.abs(o(Ie).latest))))]),te(Je,Ct)}),$(Se),te(de,Se)};et(Oa,de=>{o(i),T(()=>o(i).length)&&de(Wa)})}$(cr),$(q),ce(de=>{oe(be,`${o(X)??""} to ${o(S)??""}`),oe(zt,`${de??""} since ${o(b)??""}`),oe(xn,`${o(ae),T(()=>o(ae).length)??""} of ${o(P),T(()=>o(P).length)??""}`),oe(Ia,`Price changes from ${o(b)??""} through ${o(S)??""}`)},[()=>(o(a),T(()=>o(a)?_(o(a).latest):"Not available"))]),te(E,q)};et(D,E=>{o(Ge)?E(W):E(K,!1)},!0)}te(p,M)};et(Ea,p=>{o(lt)?p(Ya):p(Ha,!1)})}$(ft),ce(()=>{oe(Ua,o(b)),j(Mt,"min",o(ut)),j(Mt,"max",o(bt)),oe(Na,`Choose any month between ${o(C)??""} and ${o(x)??""}. You can type a year or pick from the list.`),oe(Aa,`${o(ae),T(()=>o(ae).length)??""} selected`)}),_r(jt,()=>o(pe),p=>N(pe,p)),Ri(Mt,()=>o(ve),p=>N(ve,p)),_r(Bt,()=>o(ae),p=>N(ae,p)),Jt("click",fr,()=>me(o(P))),Jt("click",Fa,()=>me(Ce)),te(e,ft),yi()}export{Xu as component};
//# sourceMappingURL=2.BPDgWy2V.js.map
